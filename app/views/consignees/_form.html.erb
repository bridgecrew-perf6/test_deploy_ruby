<%= form_for(@consignee, html: { class: "form-horizontal"}) do |f| %>
<% if @consignee.errors.any? %>
<div class="alert alert-error">
  <ul class="unstyled">
    <% @consignee.errors.full_messages.each do |msg| %>
    <li><%= msg %></li>
    <% end %>
  </ul>
</div>
<% end %>
<style type="text/css">
  .control-label{
    padding-top: 0!important;
  }
  .control-label > input{
    border-style: dashed;
    border-width: 0 0 1px;
    -webkit-box-shadow: none;
    box-shadow: none;
    -webkit-border-radius: 0;
    border-radius: 0;  
    text-align: right;
  }
  .control-label > input:focus{
    -webkit-box-shadow: none;
    box-shadow: none;
  }
</style>
<div class="row-fluid">
  <div class="span6">
    <div class="control-group">
      <label for="" class="control-label">Company Name</label>
      <div class="controls"><%= f.text_field :company_name %></div>
    </div>
    <div class="control-group">
      <label for="" class="control-label">Reference</label>
      <div class="controls"><%= f.text_field :reference %></div>
    </div>
    <div class="control-group">
      <label for="" class="control-label">Credit Term</label>
      <div class="controls"><%= f.text_field :credit_term %> days</div>
    </div>
    <div class="control-group">
      <label for="" class="control-label">BL Address</label>
      <div class="controls"><%= f.text_area :address, class: "span11", style: "height: 110px" %></div>
    </div>
    <div id="custom-fields">
      <%= f.fields_for :custom_fields do |builder| %>
        <%= render 'shared/custom_field_fields', :f => builder %>
      <% end %>
    </div>
<!--     <div class="control-group">
      <label for="" class="control-label">States, Province, City</label>
      <div class="controls"><%= f.text_field :city %></div>
    </div>
    <div class="control-group">
      <label for="" class="control-label">Zip Code</label>
      <div class="controls"><%= f.text_field :zipcode %></div>
    </div>
    <div class="control-group">
      <label for="" class="control-label">Country</label>
      <div class="controls"><%= f.text_field :country_name %></div>
    </div>
    <div class="control-group">
      <label for="" class="control-label">Contact Name</label>
      <div class="controls"><%= f.text_field :contact_name %></div>
    </div>
    <div class="control-group">
      <label for="" class="control-label">Phone</label>
      <div class="controls"><%= f.text_field :phone %></div>
    </div>
    <div class="control-group">
      <label for="" class="control-label">Cell Phone</label>
      <div class="controls"><%= f.text_field :cellphone %></div>
    </div>
    <div class="control-group">
      <label for="" class="control-label">Email Address</label>
      <div class="controls"><%= f.text_field :email_address %></div>
    </div> -->
    <div class="row-fluid">
      <div class="control-group">
        <div class="controls">
          <button type="submit" class="btn btn-primary"><i class="icon-save"></i> Save</button>
          <div class="btn-group dropup" data-no-turbolink="true">
            <a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
              <i class="icon-plus-sign"></i> Add
            </a>
            <ul class="dropdown-menu">
              <li><a onclick="add_custom_field('address', 'consignee')">Address</a></li>
              <li><a onclick="add_custom_field('email', 'consignee')">Email</a></li>
              <li><a onclick="add_custom_field('fax', 'consignee')">Fax</a></li>
              <li><a onclick="add_custom_field('phone', 'consignee')">Phone</a></li>
              <li><a onclick="add_custom_field('pic', 'consignee')">PIC</a></li>
              <li><a onclick="add_custom_field('url', 'consignee')">URL</a></li>
              <li><a onclick="add_custom_field('custom', 'consignee')">Other...</a></li>
            </ul>
          </div>
          <a href="<%= consignees_path %>" class="btn"><i class="icon-reply"></i> Back</a>
        </div>
      </div>
    </div>
  </div>
  <div class="span6">
    <div class="control-group">
      <label for="">Notes</label>
      <div class=""><%= f.text_area :custom_field1, class: "span12", style: "height:180px" %></div>
    </div>
  </div>
  <div class="clearfix"></div>
</div>
<% end %>
<script type="text/javascript">
  // $(document).ready(function(){
    $('#consignee_country_name').typeahead({
      source: [
        <% @countries.each do |c| %>
          "<%= c.name %>",
        <% end %>
      ]
    })
  // })
</script>