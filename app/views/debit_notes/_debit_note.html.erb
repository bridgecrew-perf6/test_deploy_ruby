<style type="text/css">
  #size-a4-print * {font-family: "Comic Sans MS", "cursive"!important;}
  table.with-border td, table.with-border th{
    border: solid 2px #000;
    padding: 2px;
    font-family: "cursive";
    font-weight: 700;
  }
</style>
<%= form_for(@debit_note, html: { class: "form-horizontal"}) do |f| %>
<div id="invoice">
  <% if request.format != "application/pdf" %>
    <div class="row-fluid" style="position: relative; top:0">
      <div class="span12" style="position: absolute">
        <img src="<%= assets_path('logo.jpg') %>" alt="PT. Interbenua Logistindo LOGO replace to app/assets/images/logo.jpg" id="logo" width="100%"/>
      </div>
    </div>
  <% end %>
  <div class="row-fluid">
      <span class="8point" style="position: relative; margin-top: 160px; display: block; margin-left: 60%; margin-bottom: 30px; line-height: 1.2">
        <!-- PT. INTERBENUA LOGISTINDO<br/>
        Jl. Muara Karang Blok C7 Utara No. 37C<br/>
        Jakarta Utara 14450<br/>
        Phone. 021-50651001 / 021-50661001<br/>
        Fax. 021-66604679<br/>
        www.interbenualog.com -->
        <!-- Revisi 17 February 2016 -->
        <!-- PT. INTERBENUA LOGISTINDO<br/>
        Ruko Harmoni Mas Blok C-30<br/>
        JL. Jembatan Dua Raya No. 18<br/>
        Jakarta Utara 14450<br/>
        Phone. 021-66604805 / 021-50651001 / 021-50661001<br/>
        www.interbenualog.com<br/> -->
        <!-- Revisi 4 April 2016 -->
        <!--
        PT. INTERBENUA LOGISTINDO<br/>
        Ruko Harmoni Mas Blok C-30<br/>
        JL. Jembatan Dua Raya No. 18<br/>
        Jakarta Utara 14450<br/>
        Phone. 021-66678914/921/924<br/>
        Fax. 021-66604805<br/>
        www.interbenualog.com<br/>
        -->
        <!--Revisi 18 JAN 2022 -->
        PT. INTERBENUA LOGISTINDO<br/>
        Galeri Niaga Mediterania I<br/>
        Blok X-3, No.B-8M<br/>
        Kapuk Muara, Penjaringan<br/>
        Jakarta Utara 14460<br/>
        Phone/Fax. 021-5883377<br/>
        www.interbenualog.com<br/>
      </span>
  </div>
<!--   <table width="100%" style="margin-bottom: 20px">
    <tr>
      <td width="60%">
        PT. INTERBENUA LOGISTINDO<br/>
        Jl. Muara Karang Blok C7 Utara No. 37C<br/>
        Jakarta Utara 14450<br/>
        Phone. 021 - 71040027 / 021 - 71040028<br/>
        Fax. 021 - 66604679<br/>
        www.interbenualog.com
      </td>
      <td width="40%">
        <div class="inline-group">
          <label for="">NO <span class="pull-right">:</span></label>
          <div><%= @debit_note.no_dbn %></div>
        </div>
        <div class="inline-group">
          <label for="">INVOICE DATE <span class="pull-right">:</span></label>
          <div><%= normal_date_format(@debit_note.dbn_date).upcase %></div>
        </div>
        <div class="inline-group">
          <label for="">IBL REF <span class="pull-right">:</span></label>
          <div><%= @debit_note.ibl_no %></div>
        </div>
        <div class="inline-group">
          <label for="">DUE DATE <span class="pull-right">:</span></label>
          <div><%= normal_date_format(@debit_note.due_date).upcase %></div>
        </div>
      </td>
    </tr>
  </table> -->
  <table width="100%" class="with-border">
    <tr>
      <td colspan="4">
        <div style="float: left; width: 59%; border-right: solid 2px; margin: -5px 5px -5px 0; padding: 5px 0;">
          <div class="inline-group">
            <label style="width: 180px">TO <span class="pull-right">:</span></label>
            <div style="margin-left: 200px; font-weight: normal"><%= @debit_note.customer %></div>
          </div>
          <div class="inline-group">
            <label for="" style="width: 180px">SHIPPER REF <span class="pull-right">:</span></label>
            <div style="margin-left: 200px; font-weight: normal"><%= @debit_note.shipper_ref %></div>
          </div>
          <div class="inline-group">
            <label for="" style="width: 180px">BL NO <span class="pull-right">:</span></label>
            <div style="margin-left: 200px; font-weight: normal"><%= @debit_note.bl_no %></div>
          </div>
          <div class="inline-group">
            <label for="" style="width: 180px">VOLUME <span class="pull-right">:</span></label>
            <div style="margin-left: 200px; font-weight: normal">
              <%#
                @debit_note.bill_of_lading.shipping_instruction.si_containers.map {|c| (c.container.container_type == "LCL" ? "#{number_with_precision(c.volum, precision: 3, delimiter: ',')} M3 #{c.container.container_type}" : "#{c.volum.to_i}x#{c.container.container_type}") }.join(" & ")
              %>
              <!-- # Revisi 1 Dec 2015 -->
              <%= @debit_note.volume %>
            </div>
          </div>
          <div class="inline-group">
            <label for="" style="width: 180px">VESSEL <span class="pull-right">:</span></label>
            <div style="margin-left: 200px; font-weight: normal"><%= @debit_note.vessel %></div>
          </div>
          <div class="inline-group">
            <label for="" style="width: 180px">POL <span class="pull-right">:</span></label>
            <div style="margin-left: 200px; font-weight: normal"><%= @debit_note.port_of_loading %></div>
          </div>
          <div class="inline-group">
            <label for="" style="width: 180px">DESTINATION <span class="pull-right">:</span></label>
            <div style="margin-left: 200px; font-weight: normal"><%= @debit_note.destination %></div>
          </div>
          <div class="inline-group">
            <label for="" style="width: 180px">ETD <span class="pull-right">:</span></label>
            <div style="margin-left: 200px; font-weight: normal"><%= normal_date_format(@debit_note.etd).upcase %></div>
          </div>
          <div class="inline-group">
            <label for="" style="width: 180px">ETA <span class="pull-right">:</span></label>
            <div style="margin-left: 200px; font-weight: normal"><%= normal_date_format(@debit_note.eta).upcase %></div>
          </div>
        </div>
        <div style="float: left; width: 40%">
          <% if request.format != "application/pdf" %>
            <h3 style="text-align: right; height: 60px; margin: 10px 10px 10px 60px; width: 230px;"><%= @debit_note.head_letter %></h3>
          <% else %>
            <h3 style="text-align: right; margin: 20px 20px 40px 60px; width: 360px; height: 60px; font-size: 22pt; font-family: 'cursive'"><%= @debit_note.head_letter %></h3>
          <% end %>
          <div class="inline-group">
            <label for="" style="width: 130px">NO <span class="pull-right">:</span></label>
            <div style="margin-left: 150px; font-weight: normal"><%= @debit_note.no_dbn %></div>
          </div>
          <div class="inline-group">
            <label for="" style="width: 130px">DATE <span class="pull-right">:</span></label>
            <div style="margin-left: 150px; font-weight: normal"><%= normal_date_format(@debit_note.dbn_date).upcase %></div>
          </div>
          <div class="inline-group">
            <label for="" style="width: 130px">IBL REF <span class="pull-right">:</span></label>
            <div style="margin-left: 150px; font-weight: normal"><%= @debit_note.ibl_no %></div>
          </div>
          <div class="inline-group">
            <label for="" style="width: 130px">DUE DATE <span class="pull-right">:</span></label>
            <div style="margin-left: 150px; font-weight: normal"><%= normal_date_format(@debit_note.due_date).upcase %></div>
          </div>
        </div>
        <div class="clearfix"></div>
      </td>
    </tr>
    <!-- <tr>
      <td colspan="2">
        <div style="float: left; width: 60%">
          <div class="inline-group">
            <label>TO <span class="pull-right">:</span></label>
            <div><%= @debit_note.to_shipper %></div>
          </div>
          <div class="inline-group">
            <label for="">SHIPPER REF <span class="pull-right">:</span></label>
            <div><%= @debit_note.shipper_ref %></div>
          </div>
          <div class="inline-group">
            <label for="">VESSEL <span class="pull-right">:</span></label>
            <div><%= @debit_note.vessel %></div>
          </div>
          <div class="inline-group">
            <label for="">DESTINATION <span class="pull-right">:</span></label>
            <div><%= @debit_note.destination %></div>
          </div>
          <div class="inline-group">
            <label for="">BL NO <span class="pull-right">:</span></label>
            <div><%= @debit_note.bl_no %></div>
          </div>
          <div class="inline-group">
            <label for="">VOLUME <span class="pull-right">:</span></label>
            <div>
              <%=
                @debit_note.bill_of_lading.shipping_instruction.si_containers.map {|c| (c.container.container_type == "LCL" ? "#{number_with_precision(c.volum, precision: 3, delimiter: ',')} M3 #{c.container.container_type}" : "#{c.volum}x#{c.container.container_type}") }.join(" & ")
              %>
            </div>
          </div>
        </div>
        <div style="float: left; width: 40%">
          <br/><br/>
          <div class="inline-group">
            <label for="">ETD <span class="pull-right">:</span></label>
            <div><%= normal_date_format(@debit_note.etd).upcase %></div>
          </div>
          <div class="inline-group">
            <label for="">ETA <span class="pull-right">:</span></label>
            <div><%= normal_date_format(@debit_note.eta).upcase %></div>
          </div>
        </div>
        <div class="clearfix"></div>
      </td>
    </tr> -->
    <tr>
      <th style="padding: 10px 5px" width="35%">DESCRIPTION</th>
      <th style="padding: 10px 5px" width="15%">QTY</th>
      <th style="padding: 10px 5px" width="25%">UNIT PRICE</th>
      <th style="padding: 10px 5px" width="25%">AMOUNT</th>
    </tr>
    <tr>
      <td>
        <div style="height: 490px">
          <% @debit_note.debit_note_details.each do |detail| %>
            <%= detail.description %> <br/>
          <% end %>
        </div>
      </td>
      <td align="right">
        <% @debit_note.debit_note_details.each do |detail| %>
          <%= (detail.description == "LCL") ? lcl_format(detail.volume) : money_format(detail.volume) %><br/>
        <% end %>
      </td>
      <td align="right">
        <% @debit_note.debit_note_details.each do |detail| %>
          <%= money_with_currency_format(detail.amount, @debit_note.currency_code) %><br/>
        <% end %>
      </td>
      <td align="right">
        <% @debit_note.debit_note_details.each do |detail| %>
          <%= money_with_currency_format(detail.subtotal, @debit_note.currency_code) %><br/>
        <% end %>
      </td>
    </tr>
    <tr>
      <td style="padding: 10px 5px" colspan="3">
        <strong>TOTAL INVOICE</strong>
        <%= "<br/>VAT 10%".html_safe if @debit_note.add_vat_10 %>
        <%= "<br/>VAT 1%".html_safe if @debit_note.add_vat_1 %>
        <%= "<br/>GRAND TOTAL".html_safe if @debit_note.add_total_include_vat %>
        <%= "<br/>PPH 23".html_safe if @debit_note.add_pph_23 %>
        <%= "<br/>GRAND TOTAL".html_safe if @debit_note.add_total_after_pph_23 %>
      </td>
      <td style="padding: 10px 5px" align="right">
        <%= money_with_currency_format(@debit_note.total_invoice, @debit_note.currency_code) %>
        <%= "<br/>#{money_with_currency_format(@debit_note.vat_10, @debit_note.currency_code)}".html_safe if @debit_note.add_vat_10 %>
        <%= "<br/>#{money_with_currency_format(@debit_note.vat_1, @debit_note.currency_code)}".html_safe if @debit_note.add_vat_1 %>
        <%= "<br/>#{money_with_currency_format(@debit_note.total_include_vat, @debit_note.currency_code)}".html_safe if @debit_note.add_total_include_vat %>
        <%= "<br/>#{money_with_currency_format(@debit_note.pph_23, @debit_note.currency_code)}".html_safe if @debit_note.add_pph_23 %>
        <%= "<br/>#{money_with_currency_format(@debit_note.total_after_pph_23, @debit_note.currency_code)}".html_safe if @debit_note.add_total_after_pph_23 %>
      </td>
    </tr>
    <tr>
      <td colspan="4" style="padding: 10px 5px">
        <% if @debit_note.add_rate %>
          <div>
            <strong>RATE: </strong>
            <%= money_format(@debit_note.rate) %>
          </div>
        <% end %>
        <div>
          <div class="inline-block" style="height: 100px; word-wrap:break-word; overflow:hidden">
            <label><strong>NOTES: </strong></label>
            <div><%= @debit_note.notes %></div>
          </div>
        </div>
      </td>
    </tr>
  </table>
  <div style="line-height: normal;">
    <div style="float:left; width: 70%">
      <div style="padding: 10px 5px 5px"><strong>REMITTANCE TO:</strong></div>
      <% Bank.all.each do |bank| %>
        <div style="float:left; width: 45%; line-height: 1.1; padding: 0 5px; font-size: 8pt">
          <%= render "banks/bank", :bank => bank %>
        </div>
      <% end %>
    </div>
    <div style="float:left; width: 30%">
      <div style="padding: 10px 5px 5px">&nbsp;</div>
      <br/><br/><br/><br/><br/><br/><br/><br/>
      <strong style="text-align: center; display: block; border-top: 2px solid rgb(0, 0, 0); padding-top: 5px;">AUTHORIZED SIGNATURE</strong>
    </div>
    <div class="clearfix"></div>
  </div>
</div>
<% end %>
